<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>時間體驗問卷 (TEQ) - 30題版本</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; max-width: 1000px; margin: auto; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        th { background-color: #f2f2f2; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .question-text { text-align: left; }
        button { padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #results { margin-top: 20px; padding: 20px; background-color: #e9e9e9; border-radius: 5px; display: none; }
    </style>
</head>
<body>
    <h1>時間體驗問卷 (TEQ) - 30題版本</h1>
    <p>請根據您的真實感受，選擇最適合的選項。</p>
    <form id="teqForm">
        <table>
            <tr>
                <th class="question-text">問題</th>
                <th>完全<br>不同意<br>1</th>
                <th>非常<br>不同意<br>2</th>
                <th>稍微<br>不同意<br>3</th>
                <th>中立<br><br>4</th>
                <th>稍微<br>同意<br>5</th>
                <th>非常<br>同意<br>6</th>
                <th>完全<br>同意<br>7</th>
            </tr>
            <!-- 問題將在這裡動態插入 -->
        </table>
        <button type="submit">提交</button>
    </form>
    <div id="results"></div>

    <script>
        const questions = [
            { text: "時間似乎過得很快。", category: "timePassage" },
            { text: "我經常想像自己的未來。", category: "futureOrientation" },
            { text: "我經常感到時間壓力。", category: "timePressure" },
            { text: "我傾向於活在當下。", category: "presentOrientation" },
            { text: "我常常回憶過去。", category: "pastOrientation" },
            { text: "我覺得時間是一種稀缺資源。", category: "timeWaste" },
            { text: "我能夠準確估計時間的流逝。", category: "timeManagement" },
            { text: "我經常為未來做計劃。", category: "futureOrientation" },
            { text: "我覺得生活節奏很快。", category: "timePassage" },
            { text: "我常常感到時間不夠用。", category: "timePressure" },
            { text: "我喜歡回味過去的美好時光。", category: "pastOrientation" },
            { text: "我常常因為趕時間而感到焦慮。", category: "timePressure" },
            { text: "我覺得時間是可以控制的。", category: "timeManagement" },
            { text: "我經常感到時間在浪費。", category: "timeWaste" },
            { text: "我傾向於推遲重要的決定。", category: "procrastination" },
            { text: "我會為自己設定長期目標。", category: "futureOrientation" },
            { text: "我覺得時間像河流一樣流逝。", category: "timePassage" },
            { text: "我常常因為過去的事情而後悔。", category: "pastOrientation" },
            { text: "我能夠有效地管理我的時間。", category: "timeManagement" },
            { text: "我經常感到時間在不知不覺中流逝。", category: "timePassage" },
            { text: "我喜歡制定詳細的日程計劃。", category: "timeManagement" },
            { text: "我覺得時間有時會過得特別慢。", category: "timePassage" },
            { text: "我傾向於專注於當前的任務，而不是想像未來。", category: "presentOrientation" },
            { text: "我常常感到我的生活缺乏方向。", category: "futureOrientation" },
            { text: "我喜歡反思過去的經歷並從中學習。", category: "pastOrientation" },
            { text: "我經常感到時間的流逝速度變化很大。", category: "timePassage" },
            { text: "我傾向於延遲開始重要的任務。", category: "procrastination" },
            { text: "我常常為未來可能發生的事情而擔憂。", category: "futureOrientation" },
            { text: "我覺得我的生活中有太多的死線和期限。", category: "timePressure" },
            { text: "我能夠在工作和休閒之間保持良好的平衡。", category: "timeManagement" }
        ];

        const table = document.querySelector('table');
        questions.forEach((q, index) => {
            const row = table.insertRow();
            const cellQuestion = row.insertCell();
            cellQuestion.textContent = `${index + 1}. ${q.text}`;
            cellQuestion.className = 'question-text';

            for (let i = 1; i <= 7; i++) {
                const cell = row.insertCell();
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = `q${index + 1}`;
                radio.value = i;
                radio.required = true;
                cell.appendChild(radio);
            }
        });

        document.getElementById('teqForm').onsubmit = function(e) {
            e.preventDefault();
            const scores = {
                timeWaste: 0,
                timePassage: 0,
                pastOrientation: 0,
                presentOrientation: 0,
                futureOrientation: 0,
                timeManagement: 0,
                procrastination: 0
            };
            const counts = {...scores};

            questions.forEach((q, index) => {
                const value = parseInt(document.querySelector(`input[name="q${index + 1}"]:checked`).value);
                scores[q.category] += value;
                counts[q.category]++;
            });

            for (let category in scores) {
                scores[category] = (scores[category] / counts[category]).toFixed(2);
            }

            const animal = determineAnimal(scores);

            let resultHTML = '<h2>您的TEQ結果</h2>';
            const categories = ['timeWaste', 'timePassage', 'pastOrientation', 'presentOrientation', 'futureOrientation', 'timeManagement', 'procrastination'];
            categories.forEach(category => {
                resultHTML += `<p>${getCategoryName(category)}: ${scores[category]}</p>`;
            });

            resultHTML += `<h3>您的動物類型：${animal.name}</h3>`;
            resultHTML += `<img src="${animal.image}" alt="${animal.name}" style="max-width: 300px;">`;
            resultHTML += `<p>${animal.description}</p>`;

            document.getElementById('results').style.display = 'block';
            document.getElementById('results').innerHTML = resultHTML;
        };

        function getCategoryName(category) {
            const names = {
                timeWaste: "時間浪費感",
                timePassage: "時間流逝感",
                pastOrientation: "過去導向性",
                presentOrientation: "當下導向性",
                futureOrientation: "未來導向性",
                timeManagement: "時間管理",
                procrastination: "拖延傾向"
            };
            return names[category] || category;
        }

        function determineAnimal(scores) {
    const timeWasteHigh = scores.timeWaste > 3.5;
    const timePassageHigh = scores.timePassage > 3.5;
    
    // 找出得分最高的导向
    const topOrientation = ['pastOrientation', 'presentOrientation', 'futureOrientation']
        .reduce((a, b) => scores[a] > scores[b] ? a : b)
        .replace('Orientation', '');

    const animals = {
        'highHighPast': { name: '水獺', image: 'otter.webp', description: '水獺的解說' },
        'highHighPresent': { name: '蜜蜂', image: 'bee.webp', description: '蜜蜂的解說' },
        'highHighFuture': { name: '松鼠', image: 'squirrel.webp', description: '松鼠的解說' },
        'highLowPast': { name: '大象', image: 'elephant.webp', description: '大象的解說' },
        'highLowPresent': { name: '海豚', image: 'dolphin.webp', description: '海豚的解說' },
        'highLowFuture': { name: '貓頭鷹', image: 'owl.webp', description: '貓頭鷹的解說' },
        'lowHighPast': { name: '獵豹', image: 'cheetah.webp', description: '獵豹的解說' },
        'lowHighPresent': { name: '蝴蝶', image: 'butterfly.webp', description: '蝴蝶的解說' },
        'lowHighFuture': { name: '變色龍', image: 'chameleon.webp', description: '變色龍的解說' },
        'lowLowPast': { name: '無尾熊', image: 'koala.webp', description: '無尾熊的解說' },
        'lowLowPresent': { name: '金魚', image: 'goldfish.webp', description: '金魚的解說' },
        'lowLowFuture': { name: '鯨魚', image: 'whale.webp', description: '鯨魚的解說' }
    };

    const key = `${timeWasteHigh ? 'high' : 'low'}${timePassageHigh ? 'High' : 'Low'}${topOrientation}`;
    console.log('Generated Key:', key); // 用于调试
    return animals[key] || { name: '未知動物', image: 'unknown.webp', description: '無法確定具體動物類型' };
}
    </script>
</body>
</html>
